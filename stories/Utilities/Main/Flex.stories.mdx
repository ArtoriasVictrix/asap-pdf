import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

<Meta title='Utilities/Main/Flex' />


# Flex

Quickly manage the layout, alignment, and sizing of grid columns, navigation, components, and more with a full suite
flexbox utilities. For more complex implementations, custom CSS may be necessary.

## Enable flex behaviors

Apply `display` utilities to create a flexbox container and transform **direct children elements** into flex items. Flex
containers and items are able to be modified further with additional flex properties.

<Canvas>
<div class="d-flex bg-light p-12">I'm a flexbox container!</div>
</Canvas>

<Canvas>
<div class="d-inline-flex bg-light p-12">I'm a flexbox container!</div>
</Canvas>

## Direction

Set the direction of flex items in a flex container with direction utilities. In most cases you can omit the horizontal
class here as the browser default is `row`. However, you may encounter situations where you needed to explicitly set
this value.

Use `.row` to set a horizontal direction (the browser default), or `.flex-row-reverse` to start the horizontal
direction from the opposite side.

<Canvas>
<div>
	<div class="d-flex flex-row bg-info mb-8">
		<div class="bg-light p-8">Flex item 1</div>
		<div class="bg-light p-8">Flex item 2</div>
		<div class="bg-light p-8">Flex item 3</div>
	</div>
	<div class="d-flex flex-row-reverse bg-info">
		<div class="bg-light p-8">Flex item 1</div>
		<div class="bg-light p-8">Flex item 2</div>
		<div class="bg-light p-8">Flex item 3</div>
	</div>
</div>
</Canvas>

Use `.flex-column` to set a vertical direction, or `.flex-column-reverse` to start the vertical direction from the
opposite side.

<Canvas>
<div>
	<div class="d-flex flex-column bg-info mb-8">
		<div class="bg-light p-8">Flex item 1</div>
		<div class="bg-light p-8">Flex item 2</div>
		<div class="bg-light p-8">Flex item 3</div>
	</div>
	<div class="d-flex flex-column-reverse bg-info">
		<div class="bg-light p-8">Flex item 1</div>
		<div class="bg-light p-8">Flex item 2</div>
		<div class="bg-light p-8">Flex item 3</div>
	</div>
</div>
</Canvas>

## Justify content

Use `flex-jc` (`justify-content`) utilities on flexbox containers to change the alignment of flex items on the main axis
(the x-axis to start, y-axis if `flex-direction: column`). Choose from `start` (browser default), `end`, `center`,
`between`, `around`, or `evenly`.

<Canvas>
<div>
	<div class="d-flex flex-jc-start bg-info mb-8">
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-jc-end bg-info mb-8">
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-jc-center bg-info mb-8">
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-jc-between bg-info mb-8">
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-jc-around bg-info mb-8">
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-jc-evenly bg-info">
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
</div>
</Canvas>

## Align items

Use `flex-ai` (`align-items`) utilities on flexbox containers to change the alignment of flex items on the cross axis
(the y-axis to start, x-axis if `flex-direction: column`). Choose from `start`, `end`, `center`, `baseline`, or
`stretch` (browser default).

<Canvas>
<div>
	<div class="d-flex flex-ai-start bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-ai-end bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-ai-center bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-ai-baseline bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-ai-stretch bg-info" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
</div>
</Canvas>

## Align self

Use `flex-as` (`align-self`) utilities on flexbox items to individually change their alignment on the cross axis (the
y-axis to start, x-axis if `flex-direction: column`). Choose from the same options as `align-items: start`, `end`,
`center`, `baseline`, or `stretch` (browser default).

<Canvas>
<div>
	<div class="d-flex bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="flex-as-start bg-light p-8">Aligned flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="flex-as-end bg-light p-8">Aligned flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="flex-as-center bg-light p-8">Aligned flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex bg-info mb-8" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="flex-as-baseline bg-light p-8">Aligned flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex bg-info" style={{minHeight: '100px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="flex-as-stretch bg-light p-8">Aligned flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
</div>
</Canvas>

## Grow and shrink

Use `.flex-grow-*` utilities to toggle a flex item’s ability to grow to fill available space. In the example below, the
`.flex-grow-1` elements uses all available space it can, while allowing the remaining two flex items their necessary
space.

<Canvas>
<div class="d-flex bg-info">
	<div class="flex-grow-1 bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Third flex item</div>
</div>
</Canvas>

Use `.flex-shrink-*` utilities to toggle a flex item’s ability to shrink if necessary. In the example below, the second
flex item with `.flex-shrink-1` is forced to wrap its contents to a new line, “shrinking” to allow more space for
the previous flex item with `.w-100p`.

<Canvas>
<div class="d-flex bg-info">
	<div class="bg-light w-100p p-8">Flex item</div>
	<div class="flex-shrink-1 bg-light p-8">Flex item</div>
</div>
</Canvas>

## Auto margins

Flexbox can do some pretty awesome things when you mix flex alignments with auto margins. Shown below are three
examples of controlling flex items via auto margins: default (no auto margin), pushing two items to the right
(`.mr-auto`), and pushing two items to the left (`.ml-auto`).

<Canvas>
<div>
	<div class="d-flex bg-info mb-8">
		<div class="p-8 bg-light">Flex item</div>
		<div class="p-8 bg-light">Flex item</div>
		<div class="p-8 bg-light">Flex item</div>
	</div>
	<div class="d-flex bg-info mb-8">
		<div class="bg-light p-8 mr-auto">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex bg-info mb-8">
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8 ml-auto">Flex item</div>
	</div>
</div>
</Canvas>

## With align-items

Vertically move one flex item to the top or bottom of a container by mixing `align-items`, `flex-direction: column`,
and `margin-top: auto` or `margin-bottom: auto`.

<Canvas>
<div>
	<div class="d-flex flex-ai-start flex-column bg-info mb-8" style={{minHeight: '200px'}}>
		<div class="bg-light p-8 mb-auto">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
	</div>
	<div class="d-flex flex-ai-end flex-column bg-info mb-8" style={{minHeight: '200px'}}>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8">Flex item</div>
		<div class="bg-light p-8 mt-auto">Flex item</div>
	</div>
</div>
</Canvas>

## Wrap

Change how flex items wrap in a flex container. Choose from no wrapping at all (the browser default) with
`.flex-nowrap`, wrapping with `.flex-wrap`, or reverse wrapping with `.flex-wrap-reverse`.

<Canvas>
<div class="d-flex flex-nowrap bg-info" style={{width: '128px'}}>
	<div class="bg-light p-8" style={{opacity: 0.5}}>Flex item</div>
	<div class="bg-light p-8" style={{opacity: 0.5}}>Flex item</div>
	<div class="bg-light p-8" style={{opacity: 0.5}}>Flex item</div>
	<div class="bg-light p-8" style={{opacity: 0.5}}>Flex item</div>
	<div class="bg-light p-8" style={{opacity: 0.5}}>Flex item</div>
</div>
</Canvas>

<Canvas>
<div class="d-flex flex-wrap bg-info">
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

<Canvas>
<div class="d-flex flex-wrap-reverse bg-info">
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

## Order

Change the *visual order* of specific flex items with a handful of `order` utilities. We only provide options for making
an item first or last, as well as a reset to use the DOM order. As `order` takes any integer value from 0 to 6,
add custom CSS for any additional values needed.

<Canvas>
<div class="d-flex flex-nowrap bg-light">
	<div class="order-3 bg-info p-8">First flex item</div>
	<div class="order-2 bg-info p-8">Second flex item</div>
	<div class="order-1 bg-info p-8">Third flex item</div>
</div>
</Canvas>

## Align content

Use `flex-ac` (`align-content`) utilities on flexbox containers to align flex items together on the cross axis.
Choose from `start` (browser default), `end`, `center`, `between`, `around`, or `stretch`. To demonstrate these
utilities, we’ve enforced `flex-wrap: wrap` and increased the number of flex items.

**Heads up!** This property has no effect on single rows of flex items.

<Canvas>
<div class="d-flex flex-ac-start flex-wrap bg-info" style={{minHeight: '200px'}}>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

<Canvas>
<div class="d-flex flex-ac-end flex-wrap bg-info" style={{minHeight: '200px'}}>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

<Canvas>
<div class="d-flex flex-ac-center flex-wrap bg-info" style={{minHeight: '200px'}}>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

<Canvas>
<div class="d-flex flex-ac-between flex-wrap bg-info" style={{minHeight: '200px'}}>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

<Canvas>
<div class="d-flex flex-ac-around flex-wrap bg-info" style={{minHeight: '200px'}}>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

<Canvas>
<div class="d-flex flex-ac-stretch flex-wrap bg-info" style={{minHeight: '200px'}}>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
	<div class="bg-light p-8">Flex item</div>
</div>
</Canvas>

## SCSS (Sass)

### Utilities API

Flexbox utilities are declared in the utilities API in `app/scss/_utilities.scss`.
[Learn how to use the utilities API on the Bootstrap website](https://getbootstrap.com/docs/5.1/utilities/api/#using-the-api).

```
// Flex utilities
'flex-direction': (
	property: flex-direction,
	class: flex,
	values: row column row-reverse column-reverse,
),
'flex-wrap': (
	property: flex-wrap,
	class: flex,
	values: wrap nowrap wrap-reverse,
),

'flex-grow': (
	property: flex-grow,
	values: (0, 1),
),
'flex-shrink': (
	property: flex-shrink,
	values: (0, 1)
),
'justify-content': (
	property: justify-content,
	class: flex-jc,
	values: (
		start: flex-start,
		end: flex-end,
		center: center,
		between: space-between,
		around: space-around,
		evenly: space-evenly,
	)
),
'align-items': (
	property: align-items,
	class: flex-ai,
	values: (
		start: flex-start,
		end: flex-end,
		center: center,
		baseline: baseline,
		stretch: stretch,
	)
),
'align-content': (
	property: align-content,
	class: flex-ac,
	values: (
		start: flex-start,
		end: flex-end,
		center: center,
		between: space-between,
		around: space-around,
		stretch: stretch,
	)
),
'align-self': (
	property: align-self,
	class: flex-as,
	values: (
		auto: auto,
		start: flex-start,
		end: flex-end,
		center: center,
		baseline: baseline,
		stretch: stretch,
	)
),
'order': (
	property: order,
	values: map-merge(
		(first: -1),
		create-range(0, 6, 1, ''),
	),
),
'gap': (
	property: gap,
	class: gap,
	values: create-range(0, 32, 4, 'px'),
),
```
